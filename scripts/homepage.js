!function(e){function t(a){if(s[a])return s[a].exports;var n=s[a]={exports:{},id:a,loaded:!1};return e[a].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var s={};return t.m=e,t.c=s,t.p="/scripts",t(0)}([function(e,t){"use strict";$(function(){function e(){var e=["de","en","es","fr","it","jp","nl","zh"],t=$("html").prop("lang");return/^zh_CN/.test(t)?"zh":e.indexOf(t)!==-1?t:void 0}function t(t){StripeCheckout.open({key:stripeKey,token:function(e){console.log(JSON.parse(JSON.stringify(e))),s(t,e),a()},name:"elementary LLC.",description:releaseTitle+" "+releaseVersion,bitcoin:!0,alipay:"auto",locale:e()||"auto",amount:t})}function s(e,t){var s=$("#amount-ten");window.ga&&ga("send","event",releaseTitle+" "+releaseVersion+" Payment (Actual)","Homepage",e),0!==s.val()&&($("#amounts").html('<input type="hidden" id="amount-ten" value="0">'),o());var a=new XMLHttpRequest;a.open("POST","./backend/payment.php",!0),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.send("description="+encodeURIComponent(releaseTitle+" "+releaseVersion)+"&amount="+e+"&token="+t.id+"&email="+encodeURIComponent(t.email))}function a(){var e=$(".open-modal");console.log("Open the download overlay!"),e.leanModal({top:"15vmin",overlayOpacity:.5,closeButton:".close-modal"}),e.click()}function n(){var e=window.navigator.userAgent;return e.indexOf("Android")>=0?"Android":e.indexOf("Mac OS X")>=0&&e.indexOf("Mobile")>=0?"iOS":e.indexOf("Windows")>=0?"Windows":e.indexOf("Mac_PowerPC")>=0||e.indexOf("Macintosh")>=0?"OS X":e.indexOf("Linux")>=0?"Linux":"Other"}function o(){var e=$("#translate-download").text(),t=$("#translate-purchase").text();$("#amounts").children().length<=1?($("#download").text(e),document.title=e):$("button.payment-button").hasClass("checked")||100*$("#amount-custom").val()>=i?($("#download").text(t),document.title=t):($("#download").text(e),document.title=e)}var i=100,l="amount-ten",r="amount-ten",c=function(e){var t=$(e.target).attr("id"),s=e.type;if(!$(e.target).hasClass("target-amount")&&"amount-custom"===r){var a=document.getElementById("amount-custom");a.validity.valid&&""!==a.value||(t=l,s="click")}"amount-custom"!==t&&"focusin"===s||!$("#"+t).hasClass("target-amount")||("amount-custom"!==t&&(l=t),$(".target-amount").removeClass("checked"),$("#"+t).addClass("checked"),r=t,o())};$(document).on("click focusin",c);var d=function(e){var t=$("#amount-custom").val(),s=e.which||e.keyCode||e.charCode;46===s&&t.indexOf(".")===-1||[8,37,39].indexOf(s)!==-1||!(s<48||s>57)||e.preventDefault()};if($("#amount-custom").keypress(d),$("#download").click(function(){var e=100*$("#"+r).val();console.log("Pay "+r),console.log("Starting payment for "+e),e<i?(window.ga&&ga("send","event",releaseTitle+" "+releaseVersion+" Download (Free)","Homepage",e),a()):(window.ga&&ga("send","event",releaseTitle+" "+releaseVersion+" Payment (Initiated)","Homepage",e),t(e))}),window.ga)for(var g=$("#download-modal").find(".actions").find("a"),u=[{arch:"32-bit",method:"HTTP"},{arch:"32-bit",method:"Magnet"},{arch:"64-bit",method:"HTTP"},{arch:"64-bit",method:"Magnet"}],h=0;h<u.length;h++)!function(e,t){$(t).click(function(){ga("send","event",releaseTitle+" "+releaseVersion+" Download (Architecture)","Homepage",e.arch),ga("send","event",releaseTitle+" "+releaseVersion+" Download (Method)","Homepage",e.method),ga("send","event",releaseTitle+" "+releaseVersion+" Download (OS)","Homepage",n()),ga("send","event",releaseTitle+" "+releaseVersion+" Download (Region)","Homepage",downloadRegion)})}(u[h],g[h]);new Slider({slideContainer:".slide-container",choiceContainer:"#carousel-choices",slides:["photos","music","videos","midori"],fixed:!0}),$(function(){$.getJSON("data/slingshot.json",function(e){$.each(e.grid,function(e,t){var s='<div class="app '+t.position+'"><img src="images/icons/'+t.icon+'.svg" alt="'+t.title+'"/><p>'+t.title+"</p>";$(s).appendTo(".slingshot-grid")}),$.each(e.categories,function(e,t){var s='<div class="app '+t.position+'"><img src="images/icons/'+t.icon+'.svg" alt="'+t.title+'"/><p>'+t.title+"</p>";$(s).appendTo(".slingshot-categories")}),$.each(e.searchone,function(e,t){var s='<div class="search-result"><img class="result-img" src="images/icons/32/'+t.icon+'.svg" alt="'+t.title+'"/><p>'+t.title+"</p>";$(s).appendTo(".searchone")}),$.each(e.searchtwo,function(e,t){var s='<div class="search-result"><img class="result-img" src="images/icons/32/'+t.icon+'.svg" alt="'+t.title+'"/><p>'+t.title+"</p>";$(s).appendTo(".searchtwo")}),$.each(e.searchthree,function(e,t){var s='<div class="search-result"><img class="result-img" src="images/icons/32/'+t.icon+'.svg" alt="'+t.title+'"/><p>'+t.title+"</p>";$(s).appendTo(".searchthree")})})}),$(function(){window.setInterval(function(){$("#slingshot-grid").hasClass("active")?($("#slingshot-grid").addClass("previous"),$("#slingshot-grid").removeClass("active"),$("#slingshot-categories").removeClass("next"),$("#slingshot-categories").addClass("active"),$("#slingshot-categories-button").addClass("active"),$("#slingshot-grid-button").removeClass("active")):$("#slingshot-categories").hasClass("active")?($("#slingshot-categories").addClass("previous"),$("#slingshot-categories").removeClass("active"),$("#slingshot-search").removeClass("next"),$("#slingshot-search").addClass("active"),$(".slingshot .clear-icon").removeClass("inactive"),$(".slingshot .search-term").removeClass("inactive"),$(".searchone").removeClass("inactive"),setTimeout(function(){$(".slingshot-search-results").addClass("inactive"),$(".searchtwo").removeClass("inactive")},700),setTimeout(function(){$(".slingshot-search-results").addClass("inactive"),$(".searchthree").removeClass("inactive")},1200),$(".slingshot .linked").addClass("inactive"),$(".slingshot .entry").addClass("expanded")):$("#slingshot-search").hasClass("active")&&($("#slingshot-search").addClass("next"),$("#slingshot-search").removeClass("active"),$("#slingshot-grid").removeClass("previous"),$("#slingshot-grid").addClass("active"),$("#slingshot-categories").addClass("next"),$("#slingshot-categories").removeClass("previous"),$(".slingshot .clear-icon, .slingshot .search-term, .slingshot-search-results").addClass("inactive"),$(".slingshot .linked").removeClass("inactive"),$(".slingshot .entry").removeClass("expanded"),$("#slingshot-grid-button").addClass("active"),$("#slingshot-categories-button").removeClass("active"))},3e3)}),$("#amounts").on("click",o),$("#amounts input").on("input",o),o(),console.log("Loaded homepage.js")})}]);