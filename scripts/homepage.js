!function(e){function t(n){if(s[n])return s[n].exports;var i=s[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var s={};return t.m=e,t.c=s,t.p="/scripts",t(0)}({0:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i=s(149),o=n(i),a=s(103),r=n(a);(0,o["default"])("https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js","jquery"),(0,o["default"])("https://checkout.stripe.com/checkout.js?data-alipay=auto&data-locale=auto","stripe"),o["default"].ready("jquery",function(){(0,o["default"])("/scripts/jQuery.leanModal2.js","modal")}),o["default"].ready(["jquery","modal","stripe"],function(){$(function(){function e(){var e=["de","en","es","fr","it","jp","nl","zh"],t=$("html").prop("lang");return/^zh_CN/.test(t)?"zh":e.indexOf(t)!==-1?t:void 0}function t(t){StripeCheckout.open({key:stripeKey,token:function(e){console.log(JSON.parse(JSON.stringify(e))),s(t,e),n()},name:"elementary LLC.",description:releaseTitle+" "+releaseVersion,bitcoin:!0,alipay:"auto",locale:e()||"auto",amount:t})}function s(e,t){var s=$("#amount-ten");window.ga&&ga("send","event",releaseTitle+" "+releaseVersion+" Payment (Actual)","Homepage",e),0!==s.val()&&($("#amounts").html('<input type="hidden" id="amount-ten" value="0">'),o());var n=new XMLHttpRequest;n.open("POST","./backend/payment.php",!0),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.send("description="+encodeURIComponent(releaseTitle+" "+releaseVersion)+"&amount="+e+"&token="+t.id+"&email="+encodeURIComponent(t.email))}function n(){var e=$(".open-modal");console.log("Open the download overlay!"),e.leanModal({top:"15vmin",overlayOpacity:.5,closeButton:".close-modal"}),e.click()}function i(){var e=window.navigator.userAgent;return e.indexOf("Android")>=0?"Android":e.indexOf("Mac OS X")>=0&&e.indexOf("Mobile")>=0?"iOS":e.indexOf("Windows")>=0?"Windows":e.indexOf("Mac_PowerPC")>=0||e.indexOf("Macintosh")>=0?"OS X":e.indexOf("Linux")>=0?"Linux":"Other"}function o(){var e=$("#translate-download").text(),t=$("#translate-purchase").text();$("#amounts").children().length<=1?($("#download").text(e),document.title=e):$("button.payment-button").hasClass("checked")||100*$("#amount-custom").val()>=a?($("#download").text(t),document.title=t):($("#download").text(e),document.title=e)}var a=100,l="amount-ten",c="amount-ten",d=function(e){var t=$(e.target).attr("id"),s=e.type;if(!$(e.target).hasClass("target-amount")&&"amount-custom"===c){var n=document.getElementById("amount-custom");n.validity.valid&&""!==n.value||(t=l,s="click")}"amount-custom"!==t&&"focusin"===s||!$("#"+t).hasClass("target-amount")||("amount-custom"!==t&&(l=t),$(".target-amount").removeClass("checked"),$("#"+t).addClass("checked"),c=t,o())};$(document).on("click focusin",d);var u=function(e){var t=$("#amount-custom").val(),s=e.which||e.keyCode||e.charCode;46===s&&t.indexOf(".")===-1||[8,37,39].indexOf(s)!==-1||!(s<48||s>57)||e.preventDefault()};if($("#amount-custom").keypress(u),$("#download").click(function(){var e=100*$("#"+c).val();console.log("Pay "+c),console.log("Starting payment for "+e),e<a?(window.ga&&ga("send","event",releaseTitle+" "+releaseVersion+" Download (Free)","Homepage",e),n()):(window.ga&&ga("send","event",releaseTitle+" "+releaseVersion+" Payment (Initiated)","Homepage",e),t(e))}),window.ga)for(var h=$("#download-modal").find(".actions").find("a"),g=[{arch:"32-bit",method:"HTTP"},{arch:"32-bit",method:"Magnet"},{arch:"64-bit",method:"HTTP"},{arch:"64-bit",method:"Magnet"}],v=0;v<g.length;v++)!function(e,t){$(t).click(function(){ga("send","event",releaseTitle+" "+releaseVersion+" Download (Architecture)","Homepage",e.arch),ga("send","event",releaseTitle+" "+releaseVersion+" Download (Method)","Homepage",e.method),ga("send","event",releaseTitle+" "+releaseVersion+" Download (OS)","Homepage",i()),ga("send","event",releaseTitle+" "+releaseVersion+" Download (Region)","Homepage",downloadRegion)})}(g[v],h[v]);new r["default"]({slideContainer:".slide-container",choiceContainer:"#carousel-choices",slides:["photos","music","videos","midori"],fixed:!0}),$(function(){$.getJSON("data/slingshot.json",function(e){$.each(e.grid,function(e,t){var s='<div class="app '+t.position+'"><img src="images/icons/'+t.icon+'.svg" alt="'+t.title+'"/><p>'+t.title+"</p>";$(s).appendTo(".slingshot-grid")}),$.each(e.categories,function(e,t){var s='<div class="app '+t.position+'"><img src="images/icons/'+t.icon+'.svg" alt="'+t.title+'"/><p>'+t.title+"</p>";$(s).appendTo(".slingshot-categories")}),$.each(e.searchone,function(e,t){var s='<div class="search-result"><img class="result-img" src="images/icons/32/'+t.icon+'.svg" alt="'+t.title+'"/><p>'+t.title+"</p>";$(s).appendTo(".searchone")}),$.each(e.searchtwo,function(e,t){var s='<div class="search-result"><img class="result-img" src="images/icons/32/'+t.icon+'.svg" alt="'+t.title+'"/><p>'+t.title+"</p>";$(s).appendTo(".searchtwo")}),$.each(e.searchthree,function(e,t){var s='<div class="search-result"><img class="result-img" src="images/icons/32/'+t.icon+'.svg" alt="'+t.title+'"/><p>'+t.title+"</p>";$(s).appendTo(".searchthree")})})}),$(function(){window.setInterval(function(){$("#slingshot-grid").hasClass("active")?($("#slingshot-grid").addClass("previous"),$("#slingshot-grid").removeClass("active"),$("#slingshot-categories").removeClass("next"),$("#slingshot-categories").addClass("active"),$("#slingshot-categories-button").addClass("active"),$("#slingshot-grid-button").removeClass("active")):$("#slingshot-categories").hasClass("active")?($("#slingshot-categories").addClass("previous"),$("#slingshot-categories").removeClass("active"),$("#slingshot-search").removeClass("next"),$("#slingshot-search").addClass("active"),$(".slingshot .clear-icon").removeClass("inactive"),$(".slingshot .search-term").removeClass("inactive"),$(".searchone").removeClass("inactive"),setTimeout(function(){$(".slingshot-search-results").addClass("inactive"),$(".searchtwo").removeClass("inactive")},700),setTimeout(function(){$(".slingshot-search-results").addClass("inactive"),$(".searchthree").removeClass("inactive")},1200),$(".slingshot .linked").addClass("inactive"),$(".slingshot .entry").addClass("expanded")):$("#slingshot-search").hasClass("active")&&($("#slingshot-search").addClass("next"),$("#slingshot-search").removeClass("active"),$("#slingshot-grid").removeClass("previous"),$("#slingshot-grid").addClass("active"),$("#slingshot-categories").addClass("next"),$("#slingshot-categories").removeClass("previous"),$(".slingshot .clear-icon, .slingshot .search-term, .slingshot-search-results").addClass("inactive"),$(".slingshot .linked").removeClass("inactive"),$(".slingshot .entry").removeClass("expanded"),$("#slingshot-grid-button").addClass("active"),$("#slingshot-categories-button").removeClass("active"))},3e3)}),$("#amounts").on("click",o),$("#amounts input").on("input",o),o(),console.log("Loaded homepage.js")})})},103:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){this.slideContainer=e.slideContainer,this.choiceContainer=e.choiceContainer,this.slides=e.slides,this.fixed=e.fixed,this.currentIndex=null;for(var t=this,s=0;s<this.slides.length;s++){var n=this.slides[s],i=$("[href$='"+n+"']",this.choiceContainer);i.on("click",function(e){e.preventDefault(),t.slideTo($(this).attr("href").split("#").pop())})}$(window).resize(function(){t.resize()}),this.slideTo(this.slides[0])};s.prototype.slideTo=function(e){if(this.slides.indexOf(e)===-1)return console.log("ERROR: could not find requested slide '"+e+"'");for(var t=0;t<this.slides.length;t++){var s=this.slides[t],n=$("#"+s,this.slideContainer);s===e?(n.removeClass("previous next").addClass("active"),this.currentIndex=t):n.index()<$("#"+e,this.slideContainer).index()?n.removeClass("active next").addClass("previous"):n.removeClass("previous active").addClass("next")}for(var i=0;i<this.slides.length;i++){var o=this.slides[i],a=$("[href$='"+o+"']",this.choiceContainer),r=a.attr("href").split("#").pop();r===this.slides[this.currentIndex]?a.addClass("active"):a.removeClass("active")}this.resize()},s.prototype.resize=function(){var e=0;this.fixed?($.each(this.slides,function(t,s){var n=$("#"+s,this.sliderContainer);n.outerHeight(!0)>e&&(e=n.outerHeight(!0))}),$(this.slideContainer).outerHeight(e)):(e=$("#"+this.slides[this.currentIndex],this.sliderContainer).outerHeight(!0),$(this.slideContainer).outerHeight(e))},t["default"]=s},149:function(e,t,s){var n,i;!function(o,a){"undefined"!=typeof e&&e.exports?e.exports=a():(n=a,i="function"==typeof n?n.call(t,s,t,e):n,!(void 0!==i&&(e.exports=i)))}("$script",function(){function e(e,t){for(var s=0,n=e.length;s<n;++s)if(!t(e[s]))return l;return 1}function t(t,s){e(t,function(e){return!s(e)})}function s(o,a,r){function l(e){return e.call?e():h[e]}function d(){if(!--$){h[p]=1,m&&m();for(var s in v)e(s.split("|"),l)&&!t(v[s],l)&&(v[s]=[])}}o=o[c]?o:[o];var u=a&&a.call,m=u?a:r,p=u?o.join(""):a,$=o.length;return setTimeout(function(){t(o,function e(t,s){return null===t?d():(s||/^https?:\/\//.test(t)||!i||(t=t.indexOf(".js")===-1?i+t+".js":i+t),f[t]?(p&&(g[p]=1),2==f[t]?d():setTimeout(function(){e(t,!0)},0)):(f[t]=1,p&&(g[p]=1),void n(t,d)))})},0),s}function n(e,t){var s,n=a.createElement("script");n.onload=n.onerror=n[u]=function(){n[d]&&!/^c|loade/.test(n[d])||s||(n.onload=n[u]=null,s=1,f[e]=2,t())},n.async=1,n.src=o?e+(e.indexOf("?")===-1?"?":"&")+o:e,r.insertBefore(n,r.lastChild)}var i,o,a=document,r=a.getElementsByTagName("head")[0],l=!1,c="push",d="readyState",u="onreadystatechange",h={},g={},v={},f={};return s.get=n,s.order=function(e,t,n){!function i(o){o=e.shift(),e.length?s(o,i):s(o,t,n)}()},s.path=function(e){i=e},s.urlArgs=function(e){o=e},s.ready=function(n,i,o){n=n[c]?n:[n];var a=[];return!t(n,function(e){h[e]||a[c](e)})&&e(n,function(e){return h[e]})?i():!function(e){v[e]=v[e]||[],v[e][c](i),o&&o(a)}(n.join("|")),s},s.done=function(e){s([null],e)},s})}});